!function(){"use strict";function t(t){return 1-Math.pow(1-t,3)}const e=new WeakMap;function n(n,{from:i=1,to:o=0,duration:s=250,ease:r=t}={}){return new Promise(t=>{const a=e.get(n);a&&(cancelAnimationFrame(a.id),e.delete(n),a.resolve()),n.style.opacity=i.toString();const c=self.performance.now(),d=()=>{const a=function(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.max(e,Math.min(n,t))}((self.performance.now()-c)/s,0,1),l=i+(o-i)*r(a);n.style.opacity=l.toString(),a<1?e.set(n,{id:requestAnimationFrame(d),resolve:t}):(n.style.opacity=o.toString(),e.delete(n),t())};e.set(n,{id:requestAnimationFrame(d),resolve:t})})}const i="\n:host {\n  --baseline: 8px;\n  --background: #FFF;\n  --borderRadius: 4px;\n  --color: #333;\n  --fontFamily: 'Arial', 'Helvetica', sans-serif;\n  --padding: calc(var(--baseline) * 4)\n      calc(var(--baseline) * 4)\n      calc(var(--baseline) * 2)\n      calc(var(--baseline) * 3);\n\n  position: relative;\n  display: inline-block;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: var(--borderRadius);\n  font-family: var(--fontFamily);\n  background: var(--background);\n  color: var(--color);\n}\n\n#container {\n  padding: var(--padding);\n  white-space: nowrap;\n}\n\n#close {\n  width: calc(var(--baseline) * 3);\n  height: calc(var(--baseline) * 3);\n  background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  font-size: 0;\n  border: none;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity 0.3s cubic-bezier(0, 0, 0.3, 1);\n}\n\n#close:hover {\n  opacity: 1;\n}\n\nslot::slotted(*) {\n  flex: 1;\n  border-right: 1px solid #CCC;\n}\n\nslot::slotted(*:last-child) {\n  border-right: none;\n}\n\nslot {\n  display: flex;\n  border-top: 1px solid #AAA;\n}\n\n:host(:empty) slot {\n  border: none;\n}\n",o='\n  <button id="close">Close</button>\n  <div id="container"></div>\n  <div id="slotted-content"><slot></slot></div>\n';class s extends HTMLElement{constructor(){super(),this.fadeDuration=200,this.sandboxAttribute="allow-same-origin",this.srcInternal="",this.root=this.attachShadow({mode:"open"}),this.onClickBound=this.onClick.bind(this)}get src(){return this.srcInternal}set src(t){this.srcInternal=t,this.render()}get width(){return this.widthInternal}set width(t){this.widthInternal=t,this.setDimensions()}get height(){return this.heightInternal}set height(t){this.heightInternal=t,this.setDimensions()}connectedCallback(){this.root.innerHTML=`<style>${i}</style> ${o}`,this.render(),this.setDimensions(),this.addEventListener("click",this.onClickBound)}disconnectedCallback(){this.removeEventListener("click",this.onClickBound)}async close(t=this.fadeDuration){0!==t?(await n(this,{duration:t}),this.remove()):this.remove()}async onClick(t){"close"===(t.path?t.path[0]:t.composedPath()[0]).id&&await this.close()}render(){const t=this.root.querySelector("#container");if(t)if(this.srcIsString(this.src))t.textContent=this.src;else if(void 0===this.src)t.textContent="Unexpected content";else{const e=document.createElement("iframe");e.src=this.src.toString(),e.setAttribute("sandbox",this.sandboxAttribute),e.style.border="none",e.id="external-content",e.width=(this.width||0).toString(),e.height=(this.height||0).toString(),t.appendChild(e)}}srcIsString(t){return"string"==typeof t}setDimensions(){const t=this.root.querySelector("#container");t&&(this.widthInternal&&(t.style.width=`${this.widthInternal}px`),this.heightInternal&&(t.style.height=`${this.heightInternal}px`))}}s.defaultTagName="data-card";const r="\n:host {\n  --baseline: 8px;\n  --background: #FFF;\n  --borderRadius: 4px;\n  --color: #333;\n  --fontFamily: 'Arial', 'Helvetica', sans-serif;\n  --padding: calc(var(--baseline) * 4)\n      calc(var(--baseline) * 4)\n      calc(var(--baseline) * 2)\n      calc(var(--baseline) * 3);\n\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: 80vw;\n  text-align: center;\n}\n\n#container {\n  padding: var(--padding);\n  border-radius: var(--borderRadius);\n  font-family: var(--fontFamily);\n  background: var(--background);\n  color: var(--color);\n}\n",a='<div id="container"></div>';class c extends HTMLElement{constructor(){super(),this.message=c.DEFAULT_MESSAGE,this.root=this.attachShadow({mode:"open"})}connectedCallback(){this.root.innerHTML=`<style>${r}</style> ${a}`,this.root.querySelector("#container").textContent=this.message}}c.defaultTagName="no-support-card",c.DEFAULT_MESSAGE="Sorry, this browser does not support the required features";class d{constructor(){this.useEvents=!1,this.detectors=new Map}addDetector(t){const{name:e,supported:n}=t;if(this.detectors.has(e))throw new Error(`${e} already added`);this.detectors.set(e,n)}removeDetector(t){this.detectors.delete(t)}async detect(){const t={};for(const[e,n]of this.detectors)t[e]=await n();return this.useEvents&&function(t,e=window,n){const i=new CustomEvent(t,{bubbles:!0,detail:n});e.dispatchEvent(i)}(d.supportsEvent,self,t),t}}d.supportsEvent="supports";var l={name:"geolocation",supported:async()=>"geolocation"in self.navigator};customElements.define(c.defaultTagName,c),customElements.define(s.defaultTagName,s),window.addEventListener(d.supportsEvent,async function(t){if(!t.detail[l.name]){const t=new c;return void document.body.appendChild(t)}const e=function(){let t=document.querySelector("#container");return t||((t=document.createElement("div")).id="container",document.body.appendChild(t)),t}(),n=new s;n.src="Obtaining location...",e.appendChild(n);try{const{latitude:t,longitude:e}=await async function(){return new Promise((t,e)=>{navigator.geolocation.getCurrentPosition(e=>t(e.coords),e)})}();n.src=`Lat: ${t}, Lng: ${e}`}catch(t){n.src=t.message}});const h=new d;h.useEvents=!0,h.addDetector(l),h.detect()}();