this.Toolkit=this.Toolkit||{},this.Toolkit.onboarding=function(t){"use strict";const e={name:"IntersectionObserver",supported:async()=>"IntersectionObserver"in self&&"IntersectionObserverEntry"in self};function n(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.max(e,Math.min(n,t))}function o(t){return 1-Math.pow(1-t,3)}const i=new WeakMap;function r(t,{from:e=1,to:r=0,duration:s=250,ease:a=o}={}){return new Promise(o=>{const l=i.get(t);l&&(cancelAnimationFrame(l.id),i.delete(t),l.resolve()),t.style.opacity=e.toString();const d=self.performance.now(),c=()=>{const l=n((self.performance.now()-d)/s,0,1),h=e+(r-e)*a(l);t.style.opacity=h.toString(),l<1?i.set(t,{id:requestAnimationFrame(c),resolve:o}):(t.style.opacity=r.toString(),i.delete(t),o())};i.set(t,{id:requestAnimationFrame(c),resolve:o})})}function s(t,e=window,n){const o=new CustomEvent(t,{bubbles:!0,detail:n});e.dispatchEvent(o)}var a;function l(t,e=a.INFO,n){if("undefined"==typeof DEBUG||e>DEBUG)return;const o=function(t,e){let n="";switch(t){case a.WARNING:n="WARNING";break;case a.ERROR:n="ERROR";break;default:n="INFO"}if(!e)return`${n}:`;return`${n} [${e}]:`}(e,n);switch(e){case a.ERROR:console.error(o,t);break;case a.WARNING:console.warn(o,t);break;default:console.log(o,t)}}!function(t){t[t.VERBOSE=4]="VERBOSE",t[t.INFO=3]="INFO",t[t.WARNING=2]="WARNING",t[t.ERROR=1]="ERROR",t[t.NONE=0]="NONE"}(a||(a={}));const d="\n:host {\n  --background: #FFF;\n  --borderRadius: 4px;\n  --color: #333;\n  --fontFamily: 'Arial', 'Helvetica', sans-serif;\n  --padding: 8px 8px 36px 8px;\n  --buttonBottomMargin: 8px;\n  --buttonSideMargin: 4px;\n  --buttonActiveColor: #444;\n  --buttonHoverColor: #666;\n  --buttonInactiveColor: #AAA;\n  --contentBorderRadius: 0px;\n\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n  outline: none;\n\n  padding: var(--padding);\n  border-radius: var(--borderRadius);\n  font-family: var(--fontFamily);\n  background: var(--background);\n}\n\n#container {\n  color: var(--color);\n  overflow: hidden;\n  border-radius: var(--contentBorderRadius);\n  display: block;\n  cursor: pointer;\n}\n\nslot {\n  display: flex;\n  overflow-x: scroll;\n  scroll-snap-type: x mandatory;\n  scrollbar-width: none;\n}\n\nslot::-webkit-scrollbar {\n  display: none;\n}\n\n::slotted(*) {\n  flex: 1 0 auto;\n  scroll-snap-align: start;\n}\n\n#buttons {\n  display: flex;\n  height: 20px;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: var(--buttonBottomMargin);\n}\n\n#buttons button {\n  margin: 0 var(--buttonSideMargin);\n  font-size: 0;\n  width: 18px;\n  height: 18px;\n  position: relative;\n  background: none;\n  border: none;\n  cursor: pointer;\n}\n\n#buttons button::after {\n  content: '';\n  background: var(--buttonInactiveColor);\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n#buttons button::after:hover {\n  background: var(--buttonHoverColor);\n}\n\n#buttons button.active::after {\n  background: var(--buttonActiveColor);\n}\n",c='\n<div id="container">\n  <slot></slot>\n  </div>\n<div id="buttons"></div>',h="/third_party/intersection-observer/intersection-observer-polyfill.js";async function u(t=!1){if(!t&&await e.supported())return!0;try{return await(n=h,new Promise((t,e)=>{const o=document.createElement("script");o.src=n,o.onload=t,o.onerror=e,document.head.appendChild(o)})),IntersectionObserver.prototype.POLL_INTERVAL=300,l("Loaded IntersectionObserver polyfill",a.INFO,"Onboarding"),!0}catch(t){return l("Intersection Observer polyfill load failed",a.ERROR,"Onboarding"),!1}var n}class m extends HTMLElement{constructor(){super(),this.ready=u(),this.root=this.attachShadow({mode:"open"}),this.itemsInView=new Set,this.modeInternal="scroll",this.itemInternal=0,this.itemMax=0,this.widthInternal=0,this.heightInternal=0,this.onSlotChangeBound=this.onSlotChange.bind(this),this.onContainerClickBound=this.onContainerClick.bind(this),this.onButtonClickBound=this.onButtonClick.bind(this),this.onIntersectionBound=this.onIntersection.bind(this)}static get observedAttributes(){return["width","height","mode"]}get width(){return this.widthInternal}set width(t){Number.isNaN(t)&&(t=0),this.setAttribute("width",t.toString())}get height(){return this.heightInternal}set height(t){Number.isNaN(t)&&(t=0),this.setAttribute("height",t.toString())}get item(){return this.itemInternal}get mode(){return this.modeInternal}set mode(t){this.setAttribute("mode",t)}connectedCallback(){this.ready.then(()=>{this.root.innerHTML=`<style>${d}</style> ${c}`;const t=this.root.querySelector("slot"),e=this.root.querySelector("#container"),n=this.root.querySelector("#buttons");t.addEventListener("slotchange",this.onSlotChangeBound),e.addEventListener("click",this.onContainerClickBound),n.addEventListener("click",this.onButtonClickBound),this.setAttribute("tabindex","0"),this.observer=new IntersectionObserver(this.onIntersectionBound,{root:e,rootMargin:"-5px",threshold:0}),this.updateCardDimensions(),this.observeChildren(),this.onSlotChange()})}disconnectedCallback(){const t=this.root.querySelector("slot"),e=this.root.querySelector("#container"),n=this.root.querySelector("#buttons");t.removeEventListener("slotchange",this.onSlotChangeBound),e.removeEventListener("click",this.onContainerClickBound),n.addEventListener("click",this.onButtonClickBound),this.unobserveChildren(),this.root.innerHTML=""}attributeChangedCallback(t,e,n){switch(t){case"width":{const t=Number(n);this.widthInternal=Number.isNaN(t)?0:t;break}case"height":{const t=Number(n);this.heightInternal=Number.isNaN(t)?0:t;break}case"mode":this.modeInternal="fade"===n?"fade":"scroll"}this.updateCardDimensions()}async next(){const t=this.itemInternal;this.itemInternal=n(this.itemInternal+1,0,this.itemMax-1),await this.gotoItem({from:t}),t===this.itemInternal&&s(m.onboardingFinishedEvent,this,{item:this.itemInternal})}async gotoItem({to:t=this.itemInternal,from:e=-1}={}){const n=this.getSlotElements();n[t]&&(-1===e||n[e])&&e!==t&&("fade"===this.mode?(-1!==e&&(await r(n[e],{from:1,to:0}),n[e].style.opacity="1"),n[t].scrollIntoView(),this.itemsInView.add(n[t]),await r(n[t],{from:0,to:1})):n[t].scrollIntoView({behavior:"smooth"}),this.setLabel())}setLabel(){const t=this.getSlotElements();t[this.item]&&this.setAttribute("aria-label",t[this.item].getAttribute("alt")||"No description provided")}onContainerClick(){this.next()}async onButtonClick(t){const e=this.root.querySelector("#buttons");let n=Array.from(e.childNodes).indexOf(t.target);-1===n&&(n=0);const o=this.itemInternal;this.itemInternal=n,await this.gotoItem({from:o})}onIntersection(t){const e=this.getSlotElements();for(const n of t){if(n.isIntersecting?this.itemsInView.add(n.target):this.itemsInView.delete(n.target),1!==this.itemsInView.size)continue;const t=Array.from(this.itemsInView);this.itemInternal=e.indexOf(t[0]),s(m.itemChangedEvent,this,{item:this.itemInternal})}const n=this.root.querySelectorAll("#buttons button");for(const[t,e]of n.entries())e.classList.toggle("active",t===this.itemInternal)}observeChildren(){const t=this.getSlotElements();for(const e of t)this.observer.observe(e)}unobserveChildren(){const t=this.getSlotElements();for(const e of t)this.observer.observe(e)}getSlotElements(){const t=this.root.querySelector("slot");return t?"assignedElements"in t?t.assignedElements():t.assignedNodes().filter(t=>t.nodeType===this.ELEMENT_NODE):[]}onSlotChange(){const t=this.root.querySelector("#buttons"),e=this.getSlotElements();if(this.itemMax=e.length,t){t.innerHTML="";for(let e=0;e<this.itemMax;e++){const n=document.createElement("button");n.textContent=`${e+1}`,t.appendChild(n)}this.setLabel()}}updateCardDimensions(){const t=this.root.querySelector("#container");t&&(t.style.width=`${this.width}px`,t.style.height=`${this.height}px`)}}return m.onboardingFinishedEvent="onboardingfinished",m.itemChangedEvent="itemchanged",m.defaultTagName="onboarding-card",window.addEventListener("keyup",t=>{const e=document.activeElement;if(e.tagName===m.defaultTagName.toUpperCase())switch(t.key){case" ":e.next();break;case"Escape":s(m.onboardingFinishedEvent,e);break;default:return}}),window.addEventListener(m.onboardingFinishedEvent,t=>{const e=t.target,n=m.defaultTagName.toUpperCase();e&&e.tagName===n&&(e.remove(),document.body.focus())}),customElements.define(m.defaultTagName,m),t.startOnboardingProcess=async function(t){const e=new m;await e.ready,e.mode="fade";const n=await async function(t){const e=t.map(t=>new Promise((e,n)=>{const o=new Image;o.src=t,o.onerror=n,o.onload=(()=>e(o))}));return await Promise.all(e)}(t);for(const t of n)t.width=.5*t.naturalWidth,t.height=.5*t.naturalHeight,0!==e.width&&0!==e.height||(e.width=t.width,e.height=t.height),e.appendChild(t);document.body.appendChild(e)},t}({});